(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(12),u=t.n(o),c=(t(6),t(2)),i=function(e){return r.a.createElement("p",null,"Rajaa n\xe4ytett\xe4vi\xe4:",r.a.createElement("input",{onChange:function(n){return e.setFilter(n.target.value.toLowerCase())}}))},l=function(e){var n=Object(a.useState)({name:"",number:""}),t=Object(c.a)(n,2),o=t[0],u=t[1];return r.a.createElement("form",{onSubmit:function(n){return function(e,n,t){e.preventDefault(),t(n)}(n,o,e.addPerson)}},r.a.createElement("div",null,"nimi:",r.a.createElement("input",{onChange:function(e){return u({name:e.target.value,number:o.number})}})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{onChange:function(e){return u({name:o.name,number:e.target.value})}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=function(e){return r.a.createElement("li",{key:e.person.name},e.person.name,": ",e.person.number,r.a.createElement("button",{onClick:function(){return n=e.deletePerson,t=e.person,void(window.confirm("Haluatko varmasti poistaa ".concat(t.name,"?"))&&n(t));var n,t}},"Poista"))},m=function(e){return r.a.createElement("ul",null,e.persons.map(function(n){return-1!==n.name.toLowerCase().indexOf(e.filter)?r.a.createElement(s,{key:n.id,person:n,deletePerson:e.deletePerson}):null}))},f=function(e){return r.a.createElement("p",{className:"flash-message-".concat(e.message.type)},e.message.message)},d=t(3),p=t.n(d),E="/api/persons",h=function(){return p.a.get(E).then(function(e){return e.data})},v=function(e){return p.a.post(E,e).then(function(e){return e.data})},b=function(e,n){return p.a.put("".concat(E,"/").concat(e),n).then(function(e){return e.data})},w=function(e){return p.a.delete("".concat(E,"/").concat(e))},g=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),s=Object(c.a)(u,2),d=s[0],p=s[1],E=Object(a.useState)({message:"",type:""}),g=Object(c.a)(E,2),j=g[0],k=g[1],y=function(e,n){k({message:e,type:n}),window.setTimeout(function(){return k({message:"",type:""})},3e3)};return Object(a.useEffect)(function(){h().then(function(e){return o(e)})},[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(f,{message:j}),r.a.createElement(i,{setFilter:p}),r.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),r.a.createElement(l,{addPerson:function(e){var n=t.find(function(n){return n.name===e.name});n?window.confirm("".concat(e.name," on jo luettelossa, korvataanko vanha numero uudella?"))&&b(n.id,e).then(function(e){return o(t.filter(function(e){return e.id!==n.id}).concat(e))}):v(e).then(function(e){o(t.concat(e)),y("Lis\xe4ttiin ".concat(e.name),"ok")})}}),r.a.createElement("h3",null,"Numerot"),r.a.createElement(m,{persons:t,filter:d,deletePerson:function(e){w(e.id).then(function(n){return o(t.filter(function(n){return n.id!==e.id}))}).catch(function(n){return 404===n.response.status&&(y("".concat(e.name," on jo poistettu"),"notice")||!0)})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,n,t){}},[[13,1,2]]]);
//# sourceMappingURL=main.60543f49.chunk.js.map